[gd_scene load_steps=29 format=2]

[ext_resource path="res://Scenes/Menu.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scripts/Linker.cs" type="Script" id=2]
[ext_resource path="res://Scripts/Managers/TransitionManager.cs" type="Script" id=3]
[ext_resource path="res://Scripts/Managers/LevelUIManager.cs" type="Script" id=4]
[ext_resource path="res://Sprites/Level/Coins/Full Coins.png" type="Texture" id=5]
[ext_resource path="res://Fonts/Roboto/Roboto-Regular.ttf" type="DynamicFontData" id=6]
[ext_resource path="res://Themes/Main.tres" type="Theme" id=7]
[ext_resource path="res://Scripts/Managers/ConsoleManager.cs" type="Script" id=8]
[ext_resource path="res://Scripts/UI/UIPlayerList.cs" type="Script" id=9]
[ext_resource path="res://Scripts/UI/UIMapMenu.cs" type="Script" id=10]

[sub_resource type="StyleBoxEmpty" id=77]

[sub_resource type="AtlasTexture" id=65]
atlas = ExtResource( 5 )
region = Rect2( 0, 0, 15, 16 )

[sub_resource type="AtlasTexture" id=66]
atlas = ExtResource( 5 )
region = Rect2( 15, 0, 15, 16 )

[sub_resource type="AtlasTexture" id=67]
atlas = ExtResource( 5 )
region = Rect2( 30, 0, 15, 16 )

[sub_resource type="AtlasTexture" id=68]
atlas = ExtResource( 5 )
region = Rect2( 45, 0, 15, 16 )

[sub_resource type="AtlasTexture" id=69]
atlas = ExtResource( 5 )
region = Rect2( 60, 0, 15, 16 )

[sub_resource type="AtlasTexture" id=70]
atlas = ExtResource( 5 )
region = Rect2( 75, 0, 15, 16 )

[sub_resource type="AtlasTexture" id=71]
atlas = ExtResource( 5 )
region = Rect2( 90, 0, 15, 16 )

[sub_resource type="AtlasTexture" id=72]
atlas = ExtResource( 5 )
region = Rect2( 105, 0, 15, 16 )

[sub_resource type="SpriteFrames" id=73]
animations = [ {
"frames": [ SubResource( 65 ), SubResource( 66 ), SubResource( 67 ), SubResource( 68 ), SubResource( 69 ), SubResource( 70 ), SubResource( 71 ), SubResource( 72 ) ],
"loop": true,
"name": "default",
"speed": 5.0
} ]

[sub_resource type="DynamicFont" id=74]
size = 24
outline_size = 1
outline_color = Color( 0.266667, 0.266667, 0.266667, 1 )
use_filter = true
font_data = ExtResource( 6 )

[sub_resource type="DynamicFont" id=75]
size = 46
use_filter = true
font_data = ExtResource( 6 )

[sub_resource type="DynamicFont" id=76]
size = 46
use_filter = true
font_data = ExtResource( 6 )

[sub_resource type="StyleBoxEmpty" id=78]

[sub_resource type="StyleBoxFlat" id=84]
bg_color = Color( 0, 0, 0, 0.352941 )

[sub_resource type="StyleBoxEmpty" id=80]

[sub_resource type="StyleBoxEmpty" id=82]

[sub_resource type="StyleBoxFlat" id=83]
bg_color = Color( 0, 0, 0, 0.470588 )

[node name="Main" type="Node2D"]
script = ExtResource( 2 )
PressPlayOnLaunch = true
NodePathTransition = NodePath("CanvasLayer/Transition")

[node name="Map" type="Node2D" parent="."]

[node name="Level" type="Node2D" parent="."]

[node name="For Testing Pitch" type="AudioStreamPlayer" parent="."]
volume_db = -40.0

[node name="Music" type="AudioStreamPlayer" parent="."]
volume_db = -0.478
pitch_scale = 0.97
autoplay = true

[node name="SFX" type="AudioStreamPlayer" parent="."]
volume_db = -10.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Menu" parent="CanvasLayer" instance=ExtResource( 1 )]

[node name="Transition" type="ColorRect" parent="CanvasLayer"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
color = Color( 0, 0, 0, 0 )
script = ExtResource( 3 )

[node name="Level UI" type="Control" parent="CanvasLayer"]
script = ExtResource( 4 )
NodePathCoinSprite = NodePath("PanelContainer/HBoxContainer/Coin Sprite")
NodePathLabelCoins = NodePath("PanelContainer/HBoxContainer/Coin Value")
NodePathControlLives = NodePath("Lives")
NodePathLabelLives = NodePath("Lives/Lives Value")

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/Level UI"]
margin_right = 53.0
margin_bottom = 31.0
theme = ExtResource( 7 )
custom_styles/panel = SubResource( 77 )

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/Level UI/PanelContainer"]
margin_right = 53.0
margin_bottom = 31.0

[node name="Coin Sprite" type="AnimatedSprite" parent="CanvasLayer/Level UI/PanelContainer/HBoxContainer"]
position = Vector2( 14, 14 )
scale = Vector2( 1.23333, 1.23333 )
frames = SubResource( 73 )

[node name="Padding Left" type="Control" parent="CanvasLayer/Level UI/PanelContainer/HBoxContainer"]
margin_right = 25.0
margin_bottom = 31.0
rect_min_size = Vector2( 25, 0 )

[node name="Coin Value" type="Label" parent="CanvasLayer/Level UI/PanelContainer/HBoxContainer"]
margin_left = 29.0
margin_top = 1.0
margin_right = 42.0
margin_bottom = 30.0
custom_fonts/font = SubResource( 74 )
text = "0"
align = 1
valign = 1

[node name="Padding Right" type="Control" parent="CanvasLayer/Level UI/PanelContainer/HBoxContainer"]
margin_left = 46.0
margin_right = 51.0
margin_bottom = 31.0
rect_min_size = Vector2( 5, 0 )

[node name="Lives" type="HBoxContainer" parent="CanvasLayer/Level UI"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = 360.0
margin_top = 237.5
margin_right = 624.0
margin_bottom = 322.5
alignment = 1

[node name="Label" type="Label" parent="CanvasLayer/Level UI/Lives"]
margin_left = 41.0
margin_top = 15.0
margin_right = 192.0
margin_bottom = 70.0
custom_fonts/font = SubResource( 75 )
text = "Lives x "
align = 1
valign = 1

[node name="Lives Value" type="Label" parent="CanvasLayer/Level UI/Lives"]
margin_left = 196.0
margin_top = 15.0
margin_right = 222.0
margin_bottom = 70.0
custom_fonts/font = SubResource( 76 )
text = "3"

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
theme = ExtResource( 7 )
custom_styles/panel = SubResource( 78 )

[node name="Console" type="VBoxContainer" parent="CanvasLayer/PanelContainer"]
visible = false
margin_right = 1024.0
margin_bottom = 600.0
script = ExtResource( 8 )

[node name="Console Logs" type="TextEdit" parent="CanvasLayer/PanelContainer/Console"]
margin_right = 1024.0
margin_bottom = 580.0
size_flags_vertical = 3
theme = ExtResource( 7 )
custom_styles/read_only = SubResource( 84 )
custom_styles/focus = SubResource( 80 )
custom_styles/normal = SubResource( 84 )
custom_styles/completion = SubResource( 82 )
readonly = true
syntax_highlighting = true
highlight_all_occurrences = true

[node name="Console Input" type="LineEdit" parent="CanvasLayer/PanelContainer/Console"]
margin_top = 584.0
margin_right = 1024.0
margin_bottom = 600.0

[node name="Player List" type="PanelContainer" parent="CanvasLayer"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -100.0
margin_bottom = 14.0
rect_min_size = Vector2( 100, 0 )
script = ExtResource( 9 )

[node name="VBox" type="VBoxContainer" parent="CanvasLayer/Player List"]
margin_left = 7.0
margin_top = 7.0
margin_right = 93.0
margin_bottom = 7.0

[node name="UIMapMenu" type="MarginContainer" parent="CanvasLayer"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
theme = ExtResource( 7 )
custom_constants/margin_right = 50
custom_constants/margin_top = 50
custom_constants/margin_left = 50
custom_constants/margin_bottom = 50
script = ExtResource( 10 )
NodePathHost = NodePath("PanelContainer/Margin/VBox/Net/Host")
NodePathJoin = NodePath("PanelContainer/Margin/VBox/Net/Join")
NodePathOnlineUsername = NodePath("PanelContainer/Margin/VBox/VBox/Online Username")

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/UIMapMenu"]
margin_left = 362.0
margin_top = 175.0
margin_right = 662.0
margin_bottom = 425.0
rect_min_size = Vector2( 300, 250 )
size_flags_horizontal = 4
size_flags_vertical = 4
custom_styles/panel = SubResource( 83 )

[node name="Margin" type="MarginContainer" parent="CanvasLayer/UIMapMenu/PanelContainer"]
margin_right = 300.0
margin_bottom = 280.0
custom_constants/margin_right = 25
custom_constants/margin_top = 15
custom_constants/margin_left = 25
custom_constants/margin_bottom = 15

[node name="VBox" type="VBoxContainer" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin"]
margin_left = 25.0
margin_top = 15.0
margin_right = 275.0
margin_bottom = 265.0
alignment = 1

[node name="HBox" type="HBoxContainer" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox"]
margin_right = 250.0
margin_bottom = 25.0

[node name="Host" type="Button" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/HBox"]
margin_right = 123.0
margin_bottom = 25.0
size_flags_horizontal = 3
text = "Host"

[node name="Join" type="Button" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/HBox"]
margin_left = 127.0
margin_right = 250.0
margin_bottom = 25.0
size_flags_horizontal = 3
text = "Join"

[node name="VBox" type="VBoxContainer" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox"]
margin_top = 29.0
margin_right = 250.0
margin_bottom = 68.0

[node name="Label" type="Label" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/VBox"]
margin_right = 250.0
margin_bottom = 19.0
text = "Online Username"
align = 1
valign = 1

[node name="Online Username" type="LineEdit" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/VBox"]
margin_top = 23.0
margin_right = 250.0
margin_bottom = 39.0
text = "valk"
align = 1

[node name="Net" type="VBoxContainer" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox"]
margin_top = 72.0
margin_right = 250.0
margin_bottom = 192.0

[node name="Host" type="VBoxContainer" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net"]
margin_right = 250.0
margin_bottom = 120.0
size_flags_horizontal = 5
size_flags_vertical = 0

[node name="Label" type="Label" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host"]
margin_right = 250.0
margin_bottom = 19.0
text = "Port"
align = 1
valign = 1

[node name="Port" type="LineEdit" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host"]
margin_top = 23.0
margin_right = 250.0
margin_bottom = 39.0
text = "25565"
align = 1

[node name="Label2" type="Label" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host"]
margin_top = 43.0
margin_right = 250.0
margin_bottom = 62.0
text = "Password"
align = 1
valign = 1

[node name="Password" type="LineEdit" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host"]
margin_top = 66.0
margin_right = 250.0
margin_bottom = 82.0
align = 1
secret = true

[node name="Padding" type="Control" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host"]
margin_top = 86.0
margin_right = 250.0
margin_bottom = 91.0
rect_min_size = Vector2( 0, 5 )

[node name="Server Toggle" type="Button" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host"]
margin_top = 95.0
margin_right = 250.0
margin_bottom = 120.0
rect_min_size = Vector2( 230, 0 )
size_flags_vertical = 0
text = "Open World to Other Players"

[node name="Join" type="VBoxContainer" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net"]
visible = false
margin_right = 250.0
margin_bottom = 120.0

[node name="Label" type="Label" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join"]
margin_right = 250.0
margin_bottom = 19.0
text = "Server Address"
align = 1
valign = 1

[node name="IP" type="LineEdit" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join"]
margin_top = 23.0
margin_right = 250.0
margin_bottom = 39.0
text = "127.0.0.1:25565"

[node name="Label2" type="Label" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join"]
margin_top = 43.0
margin_right = 250.0
margin_bottom = 62.0
text = "Password"
align = 1
valign = 1

[node name="Join Password" type="LineEdit" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join"]
margin_top = 66.0
margin_right = 250.0
margin_bottom = 82.0

[node name="Padding" type="Control" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join"]
margin_top = 86.0
margin_right = 250.0
margin_bottom = 91.0
rect_min_size = Vector2( 0, 5 )

[node name="Join World" type="Button" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join"]
margin_top = 95.0
margin_right = 250.0
margin_bottom = 120.0
text = "Join World"

[node name="Padding" type="Control" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox"]
margin_top = 196.0
margin_right = 250.0
margin_bottom = 221.0
rect_min_size = Vector2( 0, 25 )

[node name="Game" type="VBoxContainer" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox"]
margin_left = 53.0
margin_top = 225.0
margin_right = 196.0
margin_bottom = 250.0
size_flags_horizontal = 4
size_flags_vertical = 0

[node name="Back to Main Menu" type="Button" parent="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Game"]
margin_right = 143.0
margin_bottom = 25.0
text = "Back to Main Menu"

[connection signal="text_entered" from="CanvasLayer/PanelContainer/Console/Console Input" to="CanvasLayer/PanelContainer/Console" method="_on_Console_Input_text_entered"]
[connection signal="pressed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/HBox/Host" to="CanvasLayer/UIMapMenu" method="_on_Host_pressed"]
[connection signal="pressed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/HBox/Join" to="CanvasLayer/UIMapMenu" method="_on_Join_pressed"]
[connection signal="text_changed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/VBox/Online Username" to="CanvasLayer/UIMapMenu" method="_on_Online_Username_text_changed"]
[connection signal="text_changed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host/Port" to="CanvasLayer/UIMapMenu" method="_on_Port_text_changed"]
[connection signal="text_changed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host/Password" to="CanvasLayer/UIMapMenu" method="_on_Password_text_changed"]
[connection signal="pressed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Host/Server Toggle" to="CanvasLayer/UIMapMenu" method="_on_Server_Toggle_pressed"]
[connection signal="text_changed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join/IP" to="CanvasLayer/UIMapMenu" method="_on_IP_text_changed"]
[connection signal="text_changed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join/Join Password" to="CanvasLayer/UIMapMenu" method="_on_Join_Password_text_changed"]
[connection signal="pressed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Net/Join/Join World" to="CanvasLayer/UIMapMenu" method="_on_Join_World_pressed"]
[connection signal="pressed" from="CanvasLayer/UIMapMenu/PanelContainer/Margin/VBox/Game/Back to Main Menu" to="CanvasLayer/UIMapMenu" method="_on_Back_to_Main_Menu_pressed"]
